(self["webpackChunkffxiv_phantoms_mainpage_vue"]=self["webpackChunkffxiv_phantoms_mainpage_vue"]||[]).push([[514],{4514:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return R}});var r=a(641),o=a(33),s=a(3751);const n={class:"weather-container"},i={class:"controls"},c={class:"location-selector"},l=["value"],h=["value"],u={key:0,class:"weather-display"},d={class:"current-weather"},w={class:"weather-info"},L={class:"forecast"},g={class:"forecast-info"},m={key:1,class:"weather-help"};function f(e,t,a,f,k,p){return(0,r.uX)(),(0,r.CE)("div",n,[t[11]||(t[11]=(0,r.Lk)("h1",null,"FFXIV Weather Forecast",-1)),(0,r.Lk)("div",i,[t[6]||(t[6]=(0,r.Fv)('<div class="time-display"><div class="clock"><span class="clock-eorzea"></span> Eorzean Time </div><div class="clock"><span class="clock-local"></span> Local Time </div><div class="clock"><span class="clock-server"></span> Server Time </div></div>',1)),(0,r.Lk)("div",c,[t[4]||(t[4]=(0,r.Lk)("label",{for:"region"},"Region:",-1)),(0,r.bo)((0,r.Lk)("select",{id:"region","onUpdate:modelValue":t[0]||(t[0]=e=>k.selectedRegion=e),onChange:t[1]||(t[1]=(...e)=>p.updateLocations&&p.updateLocations(...e))},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(k.regions,((e,t)=>((0,r.uX)(),(0,r.CE)("option",{key:t,value:t},(0,o.v_)(e[0]),9,l)))),128))],544),[[s.u1,k.selectedRegion]]),t[5]||(t[5]=(0,r.Lk)("label",{for:"location"},"Location:",-1)),(0,r.bo)((0,r.Lk)("select",{id:"location","onUpdate:modelValue":t[2]||(t[2]=e=>k.selectedLocation=e)},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(k.currentLocations,((e,t)=>((0,r.uX)(),(0,r.CE)("option",{key:t,value:e},(0,o.v_)(e),9,h)))),128))],512),[[s.u1,k.selectedLocation]]),(0,r.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>p.getWeather&&p.getWeather(...e))},"Get Weather")])]),k.currentWeather?((0,r.uX)(),(0,r.CE)("div",u,[(0,r.Lk)("h2",null,(0,o.v_)(k.selectedLocation),1),(0,r.Lk)("div",d,[(0,r.Lk)("div",{class:(0,o.C4)(["weather-icon","weather-"+k.currentWeather.icon])},[(0,r.Lk)("i",{class:(0,o.C4)("xiv "+k.currentWeather.icon+"-chs")},null,2)],2),(0,r.Lk)("div",w,[(0,r.Lk)("p",null,[t[7]||(t[7]=(0,r.Lk)("strong",null,"Current Weather:",-1)),(0,r.eW)(" "+(0,o.v_)(k.currentWeather.name),1)]),(0,r.Lk)("p",null,[t[8]||(t[8]=(0,r.Lk)("strong",null,"Time:",-1)),(0,r.eW)(" "+(0,o.v_)(p.formatTime(k.currentWeather.timestamp)),1)])])]),t[9]||(t[9]=(0,r.Lk)("h3",null,"Forecast",-1)),(0,r.Lk)("div",L,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(k.weatherForecast,((e,t)=>((0,r.uX)(),(0,r.CE)("div",{key:t,class:"forecast-item"},[(0,r.Lk)("div",{class:(0,o.C4)(["weather-icon","weather-"+e.icon])},[(0,r.Lk)("i",{class:(0,o.C4)("xiv "+e.icon+"-chs")},null,2)],2),(0,r.Lk)("div",g,[(0,r.Lk)("p",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.name),1)]),(0,r.Lk)("p",null,(0,o.v_)(p.formatTime(e.timestamp)),1)])])))),128))])])):((0,r.uX)(),(0,r.CE)("div",m,t[10]||(t[10]=[(0,r.Lk)("p",null,'Select a location and click "Get Weather" to see the forecast',-1)])))])}const k={EORZEAN_TIME_RATIO:175,WEATHER_CYCLE_DURATION:14e5,REGIONS:[{name:"拉诺西亚",locations:["利姆萨·罗敏萨上层甲板","中拉诺西亚","拉诺西亚低地","东拉诺西亚","西拉诺西亚","拉诺西亚高地","拉诺西亚外地","狼狱停船场","海雾村"]},{name:"黑衣森林",locations:["格里达尼亚新街","黑衣森林中央林区","黑衣森林东部林区","黑衣森林南部林区","黑衣森林北部林区","薰衣草苗圃"]}],WEATHER_ICONS:{"碧空":"weather-fair","晴朗":"weather-clear","阴云":"weather-clouds","薄雾":"weather-fog","小雨":"weather-rain","暴雨":"weather-showers","微风":"weather-wind","强风":"weather-gales","打雷":"weather-thunder","雷雨":"weather-thunderstorms","扬沙":"weather-dust-storms","热浪":"weather-heat-waves","小雪":"weather-snow","暴雪":"weather-blizzards","妖雾":"weather-umbral-wind","灵电":"weather-umbral-static","灵风":"weather-umbral-dynamic","月尘":"weather-moon-dust","磁暴":"weather-astromagnetic-storm"}},p={eorzean:{hour:"2-digit",minute:"2-digit",hour12:!1},local:{hour:"2-digit",minute:"2-digit",hour12:!1}};var v=a(9883),_=a.n(v),C={data(){return{regions:k.REGIONS,selectedRegion:0,currentLocations:[],selectedLocation:"",currentWeather:null,weatherForecast:[],weather:new(_()),isLoading:!1}},mounted(){this.regions=this.weather.areas,this.updateLocations(),this.currentLocations.length>0&&(this.selectedLocation=this.currentLocations[0])},methods:{updateLocations(){this.regions[this.selectedRegion]&&(this.currentLocations=this.regions[this.selectedRegion].slice(1),this.selectedLocation=this.currentLocations[0])},async getWeather(){if(this.selectedLocation){this.isLoading=!0;try{const e=Date.now(),t=this.weather.getWeather(this.selectedLocation,e);this.currentWeather={name:t,icon:t.toLowerCase().replace(/\s+/g,"-"),timestamp:e},this.weatherForecast=Array.from({length:5},((t,a)=>{const r=e+(a+1)*k.WEATHER_CYCLE_DURATION,o=this.weather.getWeather(this.selectedLocation,r);return{name:o,icon:o.toLowerCase().replace(/\s+/g,"-"),timestamp:r}}))}finally{this.isLoading=!1}}},formatTime(e){const t=new Date(e),a=this.weather.getEorzeanTimes(e);return`${t.toLocaleString(void 0,p.local)} (ET ${a[1]}:${a[0].toString().padStart(2,"0")})`},getWeatherIcon(e){return k.WEATHER_ICONS[e]||"weather-unknown"}}},E=a(6262);const W=(0,E.A)(C,[["render",f]]);var R=W},9883:function(e,t,a){a(8111),a(2489),a(1701),function(){"use strict";const t={icons:{"阴云":60203,"碧空":60201,"晴朗":60202,"薄雾":60204,"小雨":60207,"微风":60205,"暴雨":60208,"强风":60206,"打雷":60209,"雷雨":60210,"扬沙":60211,"热浪":60214,"暴雪":60216,"小雪":60215,"妖雾":60218,"灵电":60220,"灵风":60219,"月尘":60222,"磁暴":60223},rates:{"利姆萨·罗敏萨上层甲板":["阴云",20,"碧空",50,"晴朗",80,"薄雾",90,"小雨"],"利姆萨·罗敏萨下层甲板":["阴云",20,"碧空",50,"晴朗",80,"薄雾",90,"小雨"],"乌尔达哈现世回廊":["碧空",40,"晴朗",60,"阴云",85,"薄雾",95,"小雨"],"乌尔达哈来生回廊":["碧空",40,"晴朗",60,"阴云",85,"薄雾",95,"小雨"],"格里达尼亚新街":["小雨",5,"小雨",20,"薄雾",30,"阴云",40,"晴朗",55,"碧空",85,"晴朗"],"格里达尼亚旧街":["小雨",5,"小雨",20,"薄雾",30,"阴云",40,"晴朗",55,"碧空",85,"晴朗"],"中拉诺西亚":["阴云",20,"碧空",50,"晴朗",70,"微风",80,"薄雾",90,"小雨"],"拉诺西亚低地":["阴云",20,"碧空",50,"晴朗",70,"微风",80,"薄雾",90,"小雨"],"海雾村":["阴云",20,"碧空",50,"晴朗",70,"晴朗",80,"薄雾",90,"小雨"],"东拉诺西亚":["薄雾",5,"碧空",50,"晴朗",80,"阴云",90,"小雨",95,"暴雨"],"西拉诺西亚":["薄雾",10,"碧空",40,"晴朗",60,"阴云",80,"微风",90,"强风"],"拉诺西亚高地":["碧空",30,"晴朗",50,"阴云",70,"薄雾",80,"打雷",90,"雷雨"],"西萨纳兰":["碧空",40,"晴朗",60,"阴云",85,"薄雾",95,"小雨"],"中萨纳兰":["扬沙",15,"碧空",55,"晴朗",75,"阴云",85,"薄雾",95,"小雨"],"东萨纳兰":["碧空",40,"晴朗",60,"阴云",70,"薄雾",80,"小雨",85,"暴雨"],"南萨纳兰":["热浪",20,"碧空",60,"晴朗",80,"阴云",90,"薄雾"],"北萨纳兰":["碧空",5,"晴朗",20,"阴云",50,"薄雾"],"黑衣森林中央林区":["打雷",5,"小雨",20,"薄雾",30,"阴云",40,"晴朗",55,"碧空",85,"晴朗"],"黑衣森林东部林区":["打雷",5,"小雨",20,"薄雾",30,"阴云",40,"晴朗",55,"碧空",85,"晴朗"],"黑衣森林南部林区":["薄雾",5,"雷雨",10,"打雷",25,"薄雾",30,"阴云",40,"晴朗",70,"碧空"],"黑衣森林北部林区":["薄雾",5,"暴雨",10,"小雨",25,"薄雾",30,"阴云",40,"晴朗",70,"碧空"],"库尔札斯中央高地":["暴雪",20,"小雪",60,"晴朗",70,"碧空",75,"阴云",90,"薄雾"],"摩杜纳":["阴云",15,"薄雾",30,"妖雾",60,"碧空",75,"晴朗"],"拉诺西亚外地":["碧空",30,"晴朗",50,"阴云",70,"薄雾",85,"小雨"],"狼狱停船场":["阴云",20,"碧空",50,"晴朗",80,"薄雾",90,"雷雨"],"薰衣草苗圃":["阴云",5,"小雨",20,"薄雾",30,"阴云",40,"晴朗",55,"碧空",85,"晴朗"],"高脚孤丘":["碧空",40,"晴朗",60,"阴云",85,"薄雾",95,"小雨"],"库尔札斯西部高地":["暴雪",20,"小雪",60,"晴朗",70,"碧空",75,"阴云",90,"薄雾"],"龙堡参天高地":["阴云",10,"薄雾",20,"打雷",30,"扬沙",40,"碧空",70,"晴朗"],"龙堡内陆低地":["阴云",10,"薄雾",20,"小雨",30,"暴雨",40,"碧空",70,"晴朗"],"翻云雾海":["阴云",10,"强风",20,"灵电",40,"碧空",70,"晴朗"],"阿巴拉提亚云海":["碧空",30,"晴朗",60,"阴云",70,"薄雾",80,"微风",90,"灵风"],"魔大陆阿济兹拉":["晴朗",35,"阴云",70,"打雷"],"伊修加德基础层":["小雪",60,"晴朗",70,"碧空",75,"阴云",90,"薄雾"],"伊修加德砥柱层":["小雪",60,"晴朗",70,"碧空",75,"阴云",90,"薄雾"],"田园郡":["阴云",10,"薄雾",20,"小雨",30,"暴雨",40,"碧空",70,"晴朗"],"基拉巴尼亚边区":["碧空",15,"晴朗",60,"阴云",80,"薄雾",90,"打雷"],"红玉海":["打雷",10,"微风",20,"阴云",35,"晴朗",75,"碧空"],"延夏":["暴雨",5,"小雨",15,"薄雾",25,"阴云",40,"晴朗",80,"碧空"],"基拉巴尼亚山区":["碧空",10,"晴朗",60,"阴云",75,"薄雾",85,"微风",95,"扬沙"],"基拉巴尼亚湖区":["碧空",20,"晴朗",60,"阴云",80,"薄雾",90,"雷雨"],"太阳神草原":["强风",5,"微风",10,"小雨",17,"薄雾",25,"阴云",35,"晴朗",75,"碧空"],"黄金港":["小雨",10,"薄雾",20,"阴云",40,"晴朗",80,"碧空"],"神拳痕":["碧空",15,"晴朗",60,"阴云",80,"薄雾",90,"打雷"],"白银乡":["小雨",10,"薄雾",20,"阴云",40,"晴朗",80,"碧空"],"优雷卡常风之地":["晴朗",30,"强风",60,"暴雨",90,"小雪"],"优雷卡恒冰之地":["晴朗",10,"薄雾",28,"热浪",46,"小雪",64,"打雷",82,"暴雪"],"优雷卡涌火之地":["晴朗",10,"热浪",28,"打雷",46,"暴雪",64,"灵风",82,"小雪"],"雷克兰德":["碧空",20,"晴朗",60,"阴云",75,"薄雾",85,"小雨",95,"雷雨"],"珂露西亚岛":["强风",10,"小雨",20,"薄雾",30,"阴云",45,"晴朗",85,"碧空"],"安穆·艾兰":["晴朗",45,"阴云",60,"扬沙",70,"热浪",80,"碧空"],"伊尔美格":["小雨",10,"薄雾",20,"阴云",35,"雷雨",45,"碧空",60,"晴朗"],"拉凯提卡大森林":["薄雾",10,"小雨",20,"灵风",30,"碧空",45,"晴朗",85,"阴云"],"黑风海":["阴云",20,"晴朗",80,"碧空"],"水晶都":["碧空",20,"晴朗",60,"阴云",75,"薄雾",85,"小雨",95,"雷雨"],"游末邦":["强风",10,"小雨",20,"薄雾",30,"阴云",45,"晴朗",85,"碧空"],"优雷卡丰水之地":["晴朗",12,"暴雨",34,"妖雾",56,"雷雨",78,"小雪"],"南方博兹雅战线":["晴朗",52,"小雨",64,"微风",76,"打雷",88,"扬沙"],"迷津":["碧空",15,"晴朗",60,"阴云",85,"小雨"],"萨维奈岛":["薄雾",10,"小雨",20,"暴雨",25,"碧空",40,"晴朗",80,"阴云"],"加雷马":["小雪",45,"打雷",50,"小雨",55,"薄雾",60,"阴云",85,"晴朗",95,"碧空"],"叹息海":["灵风",15,"月尘",30,"晴朗"],"天外天垓":["磁暴",15,"晴朗",85,"灵风"],"厄尔庇斯":["阴云",25,"灵风",40,"晴朗",85,"碧空"],"旧萨雷安":["碧空",10,"晴朗",50,"阴云",70,"薄雾",85,"小雪"],"拉札罕":["薄雾",10,"小雨",25,"碧空",40,"晴朗",80,"阴云"],"扎杜诺尔高原":["晴朗",60,"小雨",70,"微风",80,"打雷",90,"小雪"]},areas:[["拉诺西亚","利姆萨·罗敏萨上层甲板","中拉诺西亚","拉诺西亚低地","东拉诺西亚","西拉诺西亚","拉诺西亚高地","拉诺西亚外地","狼狱停船场","海雾村"],["黑衣森林","格里达尼亚新街","黑衣森林中央林区","黑衣森林东部林区","黑衣森林南部林区","黑衣森林北部林区","薰衣草苗圃"],["萨纳兰","乌尔达哈现世回廊","西萨纳兰","中萨纳兰","东萨纳兰","南萨纳兰","北萨纳兰","高脚孤丘"],["库尔札斯","伊修加德基础层","库尔札斯中央高地","库尔札斯西部高地"],["阿巴拉提亚","阿巴拉提亚云海","魔大陆阿济兹拉"],["龙堡","田园郡","龙堡参天高地","龙堡内陆低地","翻云雾海"],["基拉巴尼亚","神拳痕","基拉巴尼亚边区","基拉巴尼亚山区","基拉巴尼亚湖区"],["远东之国","黄金港","白银乡"],["奥萨德","红玉海","延夏","太阳神草原"],["诺弗兰特","水晶都","游末邦","雷克兰德","珂露西亚岛","安穆·艾兰","伊尔美格","拉凯提卡大森林","黑风海"],["摩杜纳","摩杜纳"],["伊尔萨巴德","拉札罕","萨维奈岛","加雷马"],["北洋地域","旧萨雷安","迷津"],["星外天域","叹息海","天外天垓"],["古代世界","厄尔庇斯"],["优雷卡","优雷卡常风之地","优雷卡恒冰之地","优雷卡涌火之地","优雷卡丰水之地"],["博兹雅","南方博兹雅战线","扎杜诺尔高原"]],locationAliases:{"利姆萨·罗敏萨上层甲板":"利姆萨·罗敏萨","格里达尼亚新街":"格里达尼亚","乌尔达哈现世回廊":"乌尔达哈","伊修加德基础层":"伊修加德"}};class a{constructor(){this._weatherData=Object.freeze(t)}get icons(){return this._weatherData.icons}get areas(){return this._weatherData.areas.map((e=>e.map((e=>this._weatherData.locationAliases[e]||e))))}getValidWeathers(e){const t=this._getRates(e);return t?t.filter((e=>"number"!==typeof e)):null}getWeather(e,t=Date.now()){const a=this._getRates(e);if(!a)return null;const r=this._calculateWeatherChance(t);for(let o=0;;o++){const e=2*o+1;if(e>=a.length)break;if(r<a[e])return a[2*o]}return a[a.length-1]}getEorzeanTimes(e,t=!1){e=Math.abs(e||Date.now());const a=Math.round(e/(175/60))/1e3,r=Math.floor(a/60);if(!t)return[a%60,r%24];const o=Math.floor(r/24);return[a%60,r%24,o%32+1,Math.floor(o/32)%12+1]}_getRates(e){const t=this._getActualLocationName(e);return this._weatherData.rates[t]}_getActualLocationName(e){for(const[t,a]of Object.entries(this._weatherData.locationAliases))if(a===e)return t;return e}_calculateWeatherChance(e){e=Math.abs(e||Date.now());const t=Math.floor(e/1e3),a=Math.floor(t/175),r=(a+8-a%8)%24,o=100*(Math.floor(t/4200)>>>0)+r,s=(o<<11^o)>>>0;return((s>>>8^s)>>>0)%100}}e.exports?e.exports=a:"undefined"!==typeof window&&(window.Weather=a)}()}}]);
//# sourceMappingURL=514.chunk.js.map